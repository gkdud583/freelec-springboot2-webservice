

# ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ìğŸ“Œ
##  í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼í•˜ëŠ” ì´ìœ 

1. ë‹¨ìœ„í…ŒìŠ¤íŠ¸ëŠ” ê°œë°œìê°€ ë‚˜ì¤‘ì— ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•˜ê±°ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—…ê·¸ë ˆì´ë“œ ë“±ì—ì„œ ê¸°ì¡´ ê¸°ëŠ¥ì´ ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

2. ë‹¨ìœ„í…ŒìŠ¤íŠ¸ëŠ” ê¸°ëŠ¥ì— ëŒ€í•œ ë¶ˆí™•ì‹¤ì„±ì„ ê°ì†Œì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. ë‹¨ìœ„í…ŒìŠ¤íŠ¸ëŠ” ì‹œìŠ¤í…œì— ëŒ€í•œ ì‹¤ì œ ë¬¸ì„œë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì¦‰, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìì²´ê°€ ë¬¸ì„œë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

4. ë¹ ë¥¸ í”¼ë“œë°± -> í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ì—†ë‹¤ë©´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³  í†°ìº£ì„ ë‚´ë ¸ë‹¤ê°€ ë‹¤ì‹œ ì‹¤í–‰í•˜ëŠ”ì¼ì„ ë°˜ë³µí•´ì•¼í•˜ëŠ”ë°, í†°ìº£ì„ ì¬ì‹œì‘ í•˜ëŠ” ì‹œê°„ì€ ìˆ˜ì‹­ ì´ˆì—ì„œ 1ë¶„ ì´ìƒ ì†Œìš”ë˜ê¸°ë„ í•œë‹¤.
í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ì´ëŸ° ë¬¸ì œê°€ í•´ê²°ëœë‹¤.

5. ìë™ê²€ì¦ -> í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©° ë”ëŠ” ì‚¬ëŒì´ ëˆˆìœ¼ë¡œ ê²€ì¦í•˜ì§€ ì•Šê²Œ ìë™ê²€ì¦ì´ ê°€ëŠ¥í•˜ë‹¤.

6. ê°œë°œìê°€ ë§Œë“  ê¸°ëŠ¥ì„ ì•ˆì „í•˜ê²Œ ë³´í˜¸ -> ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ì¶”ê°€ë  ë•Œ, ê¸°ì¡´ ê¸°ëŠ¥ì´ ì˜ ì‘ë™ë˜ëŠ” ê²ƒì„ ë³´ì¥í•´ì¤€ë‹¤.

## í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
HelloControllerTest
```java
package com.jojoldu.book.springboot.web;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.test.web.servlet.MockMvc;


import static org.hamcrest.CoreMatchers.is;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;


@RunWith(SpringRunner.class)
@WebMvcTest(controllers = HelloController.class)

public class HelloControllerTest {
    @Autowired
    private MockMvc mvc;

    @Test
    public void helloê°€_ë¦¬í„´ëœë‹¤() throws Exception{
        String hello = "hello";

        mvc.perform(get("/hello"))
                .andExpect(status().isOk())
                .andExpect(content().string(hello));
    }

    @Test
   public void helloDtoê°€_ë¦¬í„´ëœë‹¤() throws Exception{
       String name = "hello";
       int amount = 1000;

       mvc.perform(get("/hello/dto")
               .param("name", name)
               .param("amount", String.valueOf(amount)))
               .andExpect(status().isOk())
               .andExpect(jsonPath("$.name", is(name)))
               .andExpect(jsonPath("$.amount", is(amount)));



   }

}

```
  1. @RunWith(SpringRunner.class)   
  í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í• ë•Œ JUnitì— ë‚´ì¥ëœ ì‹¤í–‰ì ì™¸ì— ë‹¤ë¥¸ ì‹¤í–‰ì(StringRunner)ë¥¼ ì‹¤í–‰ì‹œí‚´.  
  ìŠ¤í”„ë§ ë¶€íŠ¸ í…ŒìŠ¤íŠ¸ì™€ JUnit ì‚¬ì´ì— ì—°ê²°ì ì—­í• ì„ í•¨.

  2. @WebMvcTest(controllers = HelloController.class)  
    Web(Spring MVC)ì— ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” ì–´ë…¸í…Œì´ì…˜.  
    @Controller, @ControllerAdvice ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  
    @Service, @Component, @Repository ë“±ì€ ì‚¬ìš©í• ìˆ˜ ì—†ë‹¤.

  3. jsonPath  
  Json ì‘ë‹µê°’ì„ í•„ë“œë³„ë¡œ ê²€ì¦í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œ.  
  $ì„ ê¸°ì¤€ìœ¼ë¡œ í•„ë“œëª…ì„ ëª…ì‹œ.  
  ì—¬ê¸°ì„œëŠ” nameê³¼ amountë¥¼ ê²€ì¦í•˜ë‹ˆ $.name, $.amountë¡œ ê²€ì¦.
